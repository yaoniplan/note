- #### Use "ffmpeg"
    - `ffmpeg -i file.mp4 -vn -c:a libmp3lame -q:a 5 output.mp3` # Convert MP4 to MP3 (yt-dlp's default MP3 conversion)
        - `-vn` # No video
    - `ffmpeg -i 5ac9704e-c8fc-4445-bc3c-db640271898d-B.mp4 -c:v libx265 -crf 28 -preset slow -c:a aac -b:a 128k 招生专业名称：计算机类.mp4` # Compress a file without losing much quality
        - `-c:v` # Set video codec to libx265 (HEVC encoder: higher compression rate than H.264)
        - `-crf` # Set Constant Rate Factor to 28 (Higher value result in lower quality and smaller file size)
        - `-preset` # Set encoding preset to slow (Prioritize compression efficiency over encoding speed)
        - `-c:a` # Set audio codec to AAC (Good balance of quality and compression efficiency)
        - `-b:a` # Set audio bitrate to 128 kbps
    - `ffmpeg -i 231012seeADentist.m4a 231012seeADentist.mp3` # Convert M4A to MP3 format
        - `for f in *.mp4; do ffmpeg -i "$f" "${f%.mp4}.mp3"& done` # In batches
        - `%` # Remove extension (e.g. `.mp4`)
        - `&` # In the background
    - `ffmpeg -f v4l2 -i /dev/video0 output.mp4` # Capture video from camera
        - `ffplay -f v4l2 /dev/video0` # Display the video on screen
    - `ffmpeg -i input.wma -ss 00:00:25 -c copy output.wma` # From 00:00:25 to the end
    - `ffmpeg -i input.wma -ss 00:00:00 -to 00:15:37 -c copy output.wma` # Cut a section
        - `-c:v copy -c:a aac -b:a 128k` # Copy the video stream without re-encoding and re-encode audio to AAC with a bitrate of 128 kbps
    - `ffmpeg -f concat -safe 0 -i fileList.txt -c copy output.wma` # Merge videos
        - `vi fileList.txt`
          ```
          file 'output01.wma'
          file 'output02.wma'
          ```
        - `ffmpeg -f concat -safe 0 -i fileList.txt -c:v copy -c:a aac -b:a 128K _20250527135448-1050-1350.mp4` # Solve the problem
          ```
          Could not find tag for codec pcm_alaw in stream #1, codec not currently supported in container
          ```
- ***Notes***
    - `-i` # Input
    - `-ss` # Specify starting
    - `-f` # Format
    - `concat` # Concatenate
    - `-c:v copy` # Copy the video stream without re-encoding
    - `-c:a aac` # Re-encode the audio stream to AAC
    - `-b:a 128K` # Set the audio bitrate to 128 kbps
    - Because to remove a commercial.
- ***References***
    - `man ffmpeg`
    - Artificial intelligence
- ---
- #### Use "sed"
    - ` sed '$agit -C /root/.config/note/ pull origin development' ~/.profile` # Append string to the last line
        - `$` # Match the last line (`3`: The third line)
        - `a` # Append
    - `sed -i '5s/$/ \&/' .profile` # Append the string at the end of the line
    - `sed -i '1i#EXTM3U' "$playlist_file"` # Insert `#EXTM3U` at the beginning of file
    - `sed -i "\|$musicUrl|d" "$playlist"` # Delete this line in the file
        - `\` # Escape only the first delimiter
        - `|` # Delimiter (Avoid conflicts with the slashes in the URL)
    - `sed -i '5,7d' ~/.ssh/config` # Delete the fifth through seventh lines from a file
        - `-i` # In place (Without it, just simulate first)
        - `d` # Delete
        - (`5d`: The fifth, `$d`: The last, `5d;7d`: Both the fifth and seventh)
        - `/SOCKS5_SERVER\|SOCKS5_PORT/d` # Delete the line containing "SOCKS"
    - `sed -i 's/dotfilels/dotfiles/g' ~/.bashrc` # Substitute (e.g. Correct spelling)
        - (`3s`: Text in the third line)
    - `for f in *.wma; do mv "$f" "$(echo "$f" | sed 's/第....//g')"; done`
        - `.` # Any single character
- ***Notes***
    - Get number line
        - `cat --number ~/.ssh/config` # Number all output lines
        - `nl ~/.ssh/config` # Number lines (Except blank lines)
        - Because suitable for files with fewer lines in teaching
    - `for f in *; do mv "$f" "$(echo "$f" | sed -E 's/([1][3-9]|[2][0-4])/echo $((\1-12))/ge')"; done` # Subtract 12 from the numbers 13 to 24
        - `([1][3-9]|[2][0-4])` # Match numbers 13 to 24
        - `e` # Arithmetic expression (e.g. `$((\1-12))`)
    - `for f in *; do mv "$f" "$(echo "$f" | sed 's/ //g')"; done` # Remove all spaces in file names
    - Because to modify file name in batches.
- ***References***
    - ![2023-05-22_13-51.png](./assets/2023-05-22_13-51.png)
    - ![2023-05-21_19-45.png](./assets/2023-05-21_19-45.png)
    - ![2023-06-11_21-44.png](./assets/2023-06-11_21-44.png)
    - ![2023-04-30_20-54.png](./assets/2023-04-30_20-54.png)
    - `man sed` # `/delete`
    - ChatGPT
- ---
